\documentclass[zavrsnirad]{fer}
% Dodaj opciju upload za generiranje konačne verzije koja se učitava na FERWeb
% Add the option upload to generate the final version which is uploaded to FERWeb


\usepackage{blindtext}

\newtheorem{definition}{Definicija}
\renewcommand{\thedefinition}{\arabic{definition}.}


%--- PODACI O RADU / THESIS INFORMATION ----------------------------------------

% Naslov na engleskom jeziku / Title in English
\title{Development of an application for risk assessment in investment
portfolios with the help of Monte Carlo simulations}

% Naslov na hrvatskom jeziku / Title in Croatian
\naslov{Razvoj aplikacije za procjenu rizika
u investicijskim portfeljima uz pomoć Monte Carlo simulacija}

% Broj rada / Thesis number
\brojrada{1951}

% Autor / Author
\author{Ivan Džanija}

% Mentor
\mentor{Prof.\@ Mihaela Vranić}

% Datum rada na engleskom jeziku / Date in English
\date{June, 2025}

% Datum rada na hrvatskom jeziku / Date in Croatian
\datum{lipanj, 2025.}

%-------------------------------------------------------------------------------


\begin{document}

% Naslovnica se automatski generira / Titlepage is automatically generated
\maketitle

%--- ZADATAK / THESIS ASSIGNMENT -----------------------------------------------

% Zadatak se ubacuje iz vanjske datoteke / Thesis assignment is included from external file
% Upiši ime PDF datoteke preuzete s FERWeb-a / Enter the filename of the PDF downloaded from FERWeb
\zadatak{zadatak.pdf}

%--- ZAHVALE / ACKNOWLEDGMENT --------------------------------------------------

\begin{zahvale}
	% Ovdje upišite zahvale / Write in the acknowledgment
	Hvala na svemu puno.
	ovo je test i opet
\end{zahvale}

% Odovud započinje numeriranje stranica / Page numbering starts from here
\mainmatter

% Sadržaj se automatski generira / Table of contents is automatically generated
\tableofcontents

%--- UVOD / INTRODUCTION -------------------------------------------------------
\chapter{Uvod}
\label{pog:uvod}

Modeliranje ponašanja portfelja je jedna od ključnih metoda pri odabiru
investicijskih ulaganja ili sigurnih financijskih rezervi.
U posljednjem desetljeću, kriptovalute su postale sveprisutna
komponenta financijskih tržišta, karakterizirana visokom volatilnošću,
nelinearnim ovisnostima i globalnom dostupnošću što kroz iznimno pouzdane izvore
što kroz izrazito nepouzdane izvore.
Upravljanje rizikom u takvom okruženju zahtijeva napredne alate za
modeliranje budućih scenarija.
Jedan od takvih alata u standarnim financijskim modelima je Monte Carlo
simulacija.
Monte Carlo simulacija, kao statistička metoda temeljena na ponovljenom
uzorkovanju slučajnih varijabli i često korištena metoda u modeliranju
ostalih financijskih instrumenata, nameće se kao ključni pristup za
analizu portfelja kriptovaluta.\\
U ovom radu fokusira se na implementaciji
Monte Carlo metode za predviđanje vrijednosti portfelja s primjenom
Cholesky dekompozicije kako bi se osigurala realistična obrada
korelacija između kriptovaluta koje su još uvijek specijalna skupina investicija
s visokom međusobnom korelecijom.\\
Glavni izazov u modeliranju kriptovaluta leži u njihovoj inherentnoj
nestabilnosti. Dok tradicionalne financijske instrumente karakteriziraju
relativno predvidljivi obrasci, kriptovalute pokazuju ekstremne fluktuacije
koje zahtijevaju precizno podešavanje parametara poput driftova i
volatilnosti.\\
U radu je razvijen C++ programski okvir koji integrira povijesne podatke
kriptovaluta, obavlja potrebne matematičke operacije i generira simulacije.
Generirane simulacije omogućuju analizu različitih scenarija kretanja cijena,
a korisnik može odabrati različite portfelje i vremenske okvire.
Sva interakcija s korisnikom odvija se putem grafičkog sučelja koje
omogućuje jednostavno upravljanje parametrima simulacije i vizualizaciju
rezultata.\\
Rad je strukturiran kako slijedi: U drugom poglavlju opisuju se teorijske
osnove teorije portfelja, Monte Carlo metode i geometrijskog Brownovog gibanja.
Treće poglavlje detaljno opisuje implementaciju algoritama, uključujući
postupak Cholesky dekompozicije, brzo ``parsiranje`` financijskog skupa podataka
i optimizacije za velike skupove podataka.
U četvrtom poglavlju analiziraju se rezultati simulacija za različite
konfiguracije portfelja, dok se u zaključku raspravlja o primjenjivosti
modela, mogućim i očitim praktičnim problemima i smjerovima daljnjeg istraživanja.

Ovakav rad može poslužiti kao osnova za daljnje istraživanje i razvoj
naprednijih modela koji će omogućiti bolje razumijevanje i upravljanje
rizicima povezanima s kriptovalutama, ali i ostalim financijskim instrumentima.
%-------------------------------------------------------------------------------
\chapter{Teorija portfelja}
\label{pog:teorija_portelja}
Teorija portfelja, čiji su začetnici Harry Markowitz i James Tobin,
daje strogu matematičku definiciju financijskim pojmovima.
Ključni optimizacijski problem teorije portfelja je
\textit{dualni cilj}: maksimizacija očekivanog povrata
uz istovremeno minimiziranje rizika.

\section{Portfelj}
\label{sek:portfelj}
Investicijske portfelje matematički prikazujemo kao linearnu kombinaciju
pojedinih investicija sa vektorom pojedinih udjela $\mathbf{w}$.
\begin{definition}
	Vektor $\mathbf{w}$ predstavlja udjele investicija u portfelju.
\end{definition}
\begin{align*}
	\mathbf{w} = \begin{pmatrix} w_1 \\ w_2 \\ \dots \\ w_N \end{pmatrix},
	\indent \sum_{i = 1}^{N} w_i = 1
\end{align*}

\section{Povrati}
\label{sek:povrati}
Povrat investicije je osnovna mjera uspješnosti investicije.
\subsection{Aritmetički povrat}

\begin{definition}
	Neka je $P_t$ cijena financijskog instrumenta u trenutku $t$ te
    $P_{t-1}$ cijena istog instrumenta u trenutku $t-1$. Aritmetički povrat
    $R_t$ definiramo kao:
\end{definition}
\begin{align*}R_t = \frac{P_t}{P_{t-1}} - 1 =
    \frac{P_t - P_{t-1}}{P_{t-1}} =
\frac{\Delta P}{P_{t-1}}
\end{align*}

\noindent Neka buduća cijena nam neće biti poznata pri investiranju te
zato povrat promatramo kao slučajnu varijablu.
Vidimo kako je moguće imati negativan povrat ako je cijena koju
promatramo manja od početne cijene i to je upravo situacija koji
pokušavamo izbjeći.

\subsection{Logaritamski povrat}
Logaritamski povrat $r_t$ definiramo preko prirodnog logaritma omjera cijena.

\begin{definition}
    Neka je $P_t$ cijena financijskog instrumenta u trenutku $t$ te
    $P_{t-1}$ cijena istog instrumenta u trenutku $t-1$. Logaritamski povrat
    $r_t$ definiramo kao:
\end{definition}
\begin{align*}
    r_t = \ln\left(\frac{P_t}{P_{t-1}}\right) = \ln(P_t) - \ln(P_{t-1})
\end{align*}
\noindent Logaritamski povrat u pravilu koristimo zbog njegovih pogodnih
matematičkih svojstava kao što je svojstvo simetrije $\ln(a) = -\ln(1/a)$
te svojstvo aditivnosti $r_{0,T} = \sum_{t=1}^T r_t$.
\subsection{Očekivani povrat }
\label{sek:ocekivani_povrat}
\begin{definition}
	Očekivani povrat promatramo kao srednju vrijednost prijašnjih
	povrata jer je upravo srednja vrijednost nepristran procjenitelj
	očekivanja slučajne varijable $R_t$ za koji vrijedi:
\end{definition}
\begin{align*}
	E(R_t) =\frac{1}{N} \sum_{i = 1}^{N} R_i
\end{align*}
\begin{definition}
Očekivani povrat portfelja je linearna kombinacija očekivanih povrata pojedinačnih asseta:
\end{definition}
\begin{align*}
\mathbb{E}[R_p] =
    \mathbf{w}^\intercal \boldsymbol{\mu} = \sum_{i=1}^n w_i \mu_i
\end{align*}
\indent gdje je $\boldsymbol{\mu} = (\mu_1, \dots, \mu_n)^\intercal$ vektor očekivanih povrata.

\section{Volatilnost}
Drugi dio optimizacijskog problema teorije portfelja je smanjenje rizika.
Volatilnost je upravo jednostavna mjera rizika koja ima pogodna matematička svojstva.
Promatramo je kao standardnu devijaciju slučajne varijable $R_t$, a ima je smisla tako promatrati
jer će nam upravo takva mjera kvantificirati kretanje povrata.
\begin{definition}
	Volatilnost investicije definiramo kao nepristran procjenitelj
	standardne devijacije slučajne varijable $R_t$:
\end{definition}
\begin{align*}
	\sigma_R = \sqrt{\frac{1}{N - 1} \sum_{i = 1}^{N} \left[R_i - E(R_t)\right]^2}
\end{align*}
\begin{definition}
Volatilnost portfelja mjeri se standardnom devijacijom povrata i dana je kvadratnim korijenom varijance:
\end{definition}
\begin{align*}
\sigma_p = \sqrt{\mathbf{w}^\intercal \boldsymbol{\Sigma} \mathbf{w}}
\end{align*}
\indent gdje je $\boldsymbol{\Sigma}$ matrica kovarijance s elementima $\Sigma_{ij} = \text{Cov}(r_i, r_j)$.

\section{Geometrijsko Brownovo gibanje}
\label{sek:gbm}
Geometrijsko Brownovo gibanje (GBM) je jedan od standardnih
stohastičkih procesa za modeliranje kretanja cijena financijskih instrumenata.
Diferencijalna jednadžba GBM-a je:
\begin{align*}
    dS_t = \mu S_t dt + \sigma S_t dW\left(t\right)
\end{align*}
\indent gdje je $W\left(t\right)$ Wienerov proces.
Eksplicitno rješenje GBM-a daje formulu za cijenu u trenutku $t$:

\begin{align*}
S_t = S_0 \exp\left[\left(\mu - \frac{\sigma^2}{2}\right)t +
    \sigma W_t\right]
\end{align*}
\indent gdje je $S_0$ početna cijena, $\mu$ drift, $\sigma$ volatilnost i $W_t$
Wienerov proces.
Detaljno objašnjene o GBM-u i njegovim svojstvima te kompletan derivacijski
postupak i izvod možete pronaći u \cite{4}.

\section{Monte Carlo simulacije}
\label{sek:monte_carlo}
Monte Carlo metoda je numerička tehnika koja koristi slučajno uzorkovanje za rješavanje determinističkih problema. Primjerice, vrijednost $\pi$ može se procijeniti simulacijom nasumičnih točaka u jediničnom kvadratu i računanjem udjela koji padaju unutar jediničnog kruga.

U kontekstu financija, Monte Carlo simulacije koriste se za generiranje vjerojatnosnih scenarija budućih cijena. Za portfelj od $n$ asseta, koraci su:
\begin{enumerate}
\item Generiraj nezavisne šokove $Z_i \sim N(0,1)$
\item Transformiraj u korelirane šokove $\mathbf{Y} = L\mathbf{Z}$ gdje je $L$ Cholesky faktor matrice $\boldsymbol{\Sigma}$
\item Ažuriraj cijene po GBM formuli za svaki asset:
\begin{align*}
S_t^{(i)} = S_0^{(i)} \exp\left(\left(\mu_i - \frac{\sigma_i^2}{2}\right)\Delta t + \sigma_i Y_i \sqrt{\Delta t}\right)
\end{align*}
\item Izračunaj vrijednost portfelja $V_t = \sum_{i=1}^n w_i S_t^{(i)}$
\end{enumerate}

\section{Cholesky dekompozicija}
\label{sek:cholesky}
Neka je $\boldsymbol{\Sigma}$ simetrična pozitivno definitna matrica kovarijance. Cholesky dekompozicija je faktorizacija oblika:
\begin{align*}
\boldsymbol{\Sigma} = LL^\intercal
\end{align*}
gdje je $L$ donjetrokutasta matrica. Ova faktorizacija omogućuje generiranje koreliranih normalnih varijabli iz nekoreliranih.

\begin{theorem}
Neka je $\mathbf{Z} = (Z_1, ..., Z_n)^\intercal$ vektor nezavisnih $N(0,1)$ varijabli. Tada vektor $\mathbf{Y} = L\mathbf{Z}$ ima kovarijacijsku matricu $\boldsymbol{\Sigma}$.
\end{theorem}
\begin{proof}
\begin{align*}
\text{Cov}(\mathbf{Y}) &= \mathbb{E}[L\mathbf{Z}(L\mathbf{Z})^\intercal] = L\mathbb{E}[\mathbf{Z}\mathbf{Z}^\intercal]L^\intercal \
&= L \cdot I \cdot L^\intercal = LL^\intercal = \boldsymbol{\Sigma}
\end{align*}
\end{proof}

\section{Optimizacija portfelja}
Klasični Markowitz-ov model formuliramo kao problem minimizacije varijance uz zadani očekivani povrat:
\begin{align*}
\min_{\mathbf{w}} \mathbf{w}^\intercal \boldsymbol{\Sigma} \mathbf{w} \
\text{uz uvjete: } \mathbf{w}^\intercal \boldsymbol{\mu} = \mu_p, \quad \mathbf{w}^\intercal \mathbf{1} = 1
\end{align*}
Rješenje ovog kvadratskog programa daje \textit{efikasnu granicu} - skup portfelja s minimalnim rizikom za zadani povrat.

Monte Carlo simulacije proširuju ovaj okvir omogućujući analizu distribucije budućih povrata i rizika u nelineranim scenarijima. Kombinacijom Cholesky dekompozicije i GBM-a moguće je modelirati kompleksne interakcije u portfeljima kriptovaluta s visokom točnošću.


% Rasprava
\chapter{Rezultati i rasprava}
\label{pog:rezultati_i_rasprava}

\Blindtext

%--- ZAKLJUČAK / CONCLUSION ----------------------------------------------------
\chapter{Zaključak}
\label{pog:zakljucak}

\blindtext

%--- LITERATURA / REFERENCES ---------------------------------------------------

% Literatura se automatski generira iz zadane .bib datoteke / References are automatically generated from the supplied .bib file
% Upiši ime BibTeX datoteke bez .bib nastavka / Enter the name of the BibTeX file without .bib extension
\bibliography{literatura}

%--- SAŽETAK / ABSTRACT --------------------------------------------------------

% Sažetak na hrvatskom
\begin{sazetak}
	Unesite sažetak na hrvatskom.

	\blindtext
\end{sazetak}

\begin{kljucnerijeci}
	prva ključna riječ; druga ključna riječ; treća ključna riječ
\end{kljucnerijeci}

% Abstract in English
\begin{abstract}
	Enter the abstract in English.

	\blindtext
\end{abstract}

\begin{keywords}
	the first keyword; the second keyword; the third keyword
\end{keywords}

%--- PRIVITCI / APPENDIX -------------------------------------------------------

% Sva poglavlja koja slijede će biti označena slovom i riječi privitak / All following chapters will be denoted with an appendix and a letter
\backmatter

\chapter{The Code}

\Blindtext

\end{document}
